<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Uma alternativa simples da Arquitetura Hexagonal">
  <meta name="author" content="Neto Deolino">
  <meta property="og:title" content="Arquitetura Hexagonal simplificada" />
  <meta property="og:url" content="https://netodeolino.github.io/posts/simplified-hexagonal" />
  <meta property="og:image" content="https://raw.githubusercontent.com/netodeolino/netodeolino.github.io/main/img/posts/simplified-hexagonal/simplified-hexagonal.png?raw=true" />

  <title>Arquitetura Hexagonal simplificada</title>

  <!-- Icon favicon -->
  <link rel="shortcut icon" href="../img/favicon.ico" />

  <!-- Bootstrap core CSS -->
  <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="../vendor/font-awesome/css/font-awesome.min.css"
    rel="stylesheet" type="text/css">
  <link
    href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic'
    rel='stylesheet' type='text/css'>
  <link
    href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
    rel='stylesheet' type='text/css'>

  <!-- Custom styles for this template -->
  <link href="../css/clean-blog.min.css" rel="stylesheet">

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7449349052271051"
        crossorigin="anonymous"></script>
</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top"
    id="mainNav">
    <div class="container">
      <a class="navbar-brand" href="../index.html">Neto Deolino</a>
      <button class="navbar-toggler navbar-toggler-right" type="button"
        data-toggle="collapse" data-target="#navbarResponsive"
        aria-controls="navbarResponsive" aria-expanded="false"
        aria-label="Toggle navigation">
        Menu <i class="fa fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item"><a class="nav-link" href="../index.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="../about.html">About</a></li>
			<li class="nav-item">
              <a class="nav-link" href="../curriculo.html">Resume</a>
            </li>
          <li class="nav-item"><a class="nav-link"
            href="../contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Page Header -->
  <header class="masthead"
    style="background-image: url('../img/posts/simplified-hexagonal/simplified-hexagonal.png')">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="post-heading">
            <h1>Arquitetura Hexagonal simplificada</h1>
            <h2 class="subheading">Desenvolvimento</h2>
            <span class="meta">Postado por <a target="_blank"
              href="https://www.linkedin.com/in/netodeolino/">Neto Deolino</a>
              em 29 de janeiro, 2023
            </span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Post Content -->
  <article>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <h1>
            <a href="#Simplified" class="headerlink" title="Uma alternativa simplificada da Arquitetura Hexagonal"></a>
            Uma alternativa simplificada da Arquitetura Hexagonal
          </h1>
          <p>
            Imagine que você precisa criar, na empresa em que trabalha ou em um projeto pessoal, um novo Microservice usando Java e
            esse projeto tem que ter uma estrutura de código limpa e, principalmente, organizada de tal forma que possa ser incrementada
            aos poucos de acordo com novos Casos de Uso. Diante disso, você faz uma rápida busca na internet e encontra a tão famosa
            Arquitetura Hexagonal.
          </p>
          <p>
            Porém, após uma leitura mais detalhada, você começa a perceber que para esse simples Microservice
            não se faz necessário adicionar tantas camadas de abstração, mas também não sabe como tornar essa caixa de letrinhas mais
            simples. É aqui que entra a minha proposta de arquitetura hexagonal simplificada. <code>Lembrando que é somente uma sugestão
            e que você pode torná-la mais simples ou mais complexa dependendo das suas necessidades!</code>
          </p>
          
          <h2>
            <a href="#Package-01" class="headerlink" title="Estrutura inicial dos pacotes da aplicação"></a>
              Estrutura inicial dos pacotes da aplicação
          </h2>
          <p align="center">
            <img style="width: 45%"
              src="https://raw.githubusercontent.com/netodeolino/netodeolino.github.io/main/img/posts/simplified-hexagonal/packages-01.png"
              alt="Estrutura inicial">
          </p>
          <p>
            Na imagem acima podemos ver a estrutura base da aplicação dentro do package <code>com.hexagonal.simplified</code>. A estrutura
            base contém os pacotes <code>adapter</code>, <code>application</code> e <code>domain</code>. Por fim, por se tratar de um
            projeto Spring Boot, podemos ver também a pasta <code>resources</code> com alguns arquivos de configuração. Vamos agora começar
            a entrar nos detalhes de cada package.
          </p>

          <h4>
            <a href="#Adapter" class="headerlink" title="Adapter"></a>
            Adapter
          </h3>
          <p>
            No package <b>adapter</b> adicionamos todo o código da nossa aplicação que se comunica com agentes externos como, por exemplo,
            banco de dados, requisições HTTP, eventos Kafka e cache.
          </p>
          <p>
            Para organizar ainda mais o código eu sugiro dividir o que é comunicação de entrada na aplicação em um pacote chamado
            <code>in</code> e comunicação de saída em um pacote chamado <code>out</code>. Dessa forma conseguimos identificar facilmente
            o fluxo de I/O.
          </p>

          <h4>
            <a href="#Application" class="headerlink" title="Application"></a>
            Application
          </h3>
          <p>
            A primeira coisa que quero dizer sobre o package <b>application</b> é que você pode chamá-lo como preferir. O importante aqui nesse
            pacote é que você adicione tudo que trata da camada de negócio da sua aplicação!
          </p>
          <p>
            Na estrutura interna desse package eu adiciono outros dois sub-packages chamados <code>port</code> e <code>usecase</code>.
            O pacote <b>port</b> contém as interfaces de comunicação de entrada e saída (I/O) e o pacote <b>usecase</b> contém, como o
            próprio nome já diz, os Casos de Uso do projeto e o mesmo também pode ter um nome diferente.
          </p>

          <h4>
            <a href="#Domain" class="headerlink" title="Domain"></a>
            Domain
          </h3>
          <p>
            Esse package é o mais "versátil" e pode conter muitos diferentes tipos de sub-packages. Nessa minha proposta de arquitetura
            simplificada eu diria que esse é o package que mais vai fugir à regra do hexagonal :) Porém, como de fato serão organizados
            os sub-packages vai depender de como você e sua equipe estruturam suas entidades, DTOs, enums e afins. 
          </p>
          <p>
            Outro ponto importante sobre o <b>domain</b> é que na arquitetura hexagonal esse package costuma se comunicar com os demais
            através de Mappers, Builders e similares. Aqui nesse meu projeto eu não dou importância a esse nível tão alto de isolamento
            entre os pacotes quando se trata dessas classes de domínio, sejam elas entidades de negócio ou não.
          </p>
          <p align="center">
            <img style="width: 45%"
              src="https://raw.githubusercontent.com/netodeolino/netodeolino.github.io/main/img/posts/simplified-hexagonal/packages-02.png"
              alt="Sub-packages domain, application e adapter">
          </p>

          <h2>
            <a href="#Aprofundando" class="headerlink" title="Aprofundando"></a>
              Aprofundando
          </h2>
          <p>
            No package adapter, como podem ver na imagem abaixo, eu implementei duas operações de entrada e duas de saída. As operações
            de entrada são um método HTTP GET e um consumidor Kafka e as de saída são um produtor Kafka e um repositório JPA responsável
            por operações de banco de dados.
          </p>
          <p align="center">
            <img style="width: 45%"
              src="https://raw.githubusercontent.com/netodeolino/netodeolino.github.io/main/img/posts/simplified-hexagonal/packages-03.png"
              alt="Package adapter">
          </p>

          <p>
            No package application temos todas as interfaces de comunicações de entrada e saída dentro do sub-package <code>port</code>
            sendo os <b>UseCase</b> as interfaces de entrada e os <b>Port</b> as interfaces de saída. Nesse mesmo package também fica
            o sub-package <code>usecase</code> que é onde fica todo código de implementação das interfaces de entrada (regras de negócio).
          </p>
          <p align="center">
            <img style="width: 45%"
              src="https://raw.githubusercontent.com/netodeolino/netodeolino.github.io/main/img/posts/simplified-hexagonal/packages-04.png"
              alt="Package application">
          </p>

          <p>
            Por último, o package domain que é o local que, como falei anteriormente, contém todas classes de entidade, enums, mappers,
            DTOs e similares. Caso use projections em seu projeto você também pode criar aqui um sub-package para adicionar as respectivas
            interfaces dessas projections.
          </p>
          <p align="center">
            <img style="width: 45%"
              src="https://raw.githubusercontent.com/netodeolino/netodeolino.github.io/main/img/posts/simplified-hexagonal/packages-05.png"
              alt="Package domain">
          </p>

          <h2>
            <a href="#Fim" class="headerlink" title="Fim"></a>
            Fim!
          </h2>
          <p>
            Esse é o resumo da ópera! Caso surjam dúvidas deixe o seu comentário que irei responder o mais breve possível. O código
            fonte do projeto está disponível neste link:
            <a target="_blank" href="https://github.com/netodeolino/hexagonal-simplified">Simplified Hexagonal</a>. Abraços!
          </p>

          <!-- Comments -->
          <hr />
          <h3>Comentários:</h3>
          <div id="disqus_thread">
            <div id="disqus_thread"></div>
          <script>
            /**
            *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
            var disqus_config = function () {
              this.page.url = "https://netodeolino.github.io/posts/simplified-hexagonal.html";
            };

            (function() { // DON'T EDIT BELOW THIS LINE
              var d = document, s = d.createElement('script');
              s.src = 'https://deolinoneto.disqus.com/embed.js';
              s.setAttribute('data-timestamp', +new Date());
              (d.head || d.body).appendChild(s);
            })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          </div>
        </div>
      </div>
  </article>

  <hr>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            <li class="list-inline-item"><a href="mailto:netodeolino@gmail.com" target="_blank"> <span
                class="fa-stack fa-lg"> <i
                  class="fa fa-circle fa-stack-2x"></i> <i
                  class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
              </span>
            </a></li>
            <li class="list-inline-item"><a href="https://www.linkedin.com/in/netodeolino/" target="_blank"> <span
                class="fa-stack fa-lg"> <i
                  class="fa fa-circle fa-stack-2x"></i> <i
                  class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
              </span>
            </a></li>
            <li class="list-inline-item"><a href="https://github.com/netodeolino" target="_blank"> <span
                class="fa-stack fa-lg"> <i
                  class="fa fa-circle fa-stack-2x"></i> <i
                  class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a></li>
          </ul>
          <p class="copyright text-muted">Copyright &copy; Neto Deolino 2023</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="../vendor/jquery/jquery.min.js"></script>
  <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Custom scripts for this template -->
  <script src="../js/clean-blog.min.js"></script>

  <!-- Disqus Comments -->

  <script type="text/javascript">
    var disqus_shortname = 'netodeolino';

    (function() {
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document
          .getElementsByTagName('body')[0]).appendChild(dsq);
    }());
  </script>

</body>

</html>